# 자동입찰 알고리즘

### 1. 먼저 해당키워드의 status [ON/OFF] 여부 확인
##### 1 ). 키워드가 OFF 일 경우 (키워드의 URL 변경시 중지/검토중으로 변경) 입찰진행 X
```
## 순위를 0으로 저장
 status : Inactive ( OFF 상태 )
 rank : 0
 bid_amt : 현재입찰가
```
### 2. 키워드가 ON 일 경우
#### [ 목표순위 체크 -> 현재입찰가&최대입찰가 체크 -> 가속화 체크 ]

##### 1 ). 현재순위가 목표순위에 도달했을 경우
  - 1-1) .현재입찰가 >= 최대입찰가
  ```
  # 현재 입찰가를 최대입찰가로 맞추고 입찰 진행
  ```

    - 1-1-1).가속화 상태가 'True'일 경우,
    ```
    True : 가속화 상태
    True_final : 마지막 가속화 상태
    ## 한번 더 순위체크를 위해 가속화 상태를 'True_final'로 변경
    ```

    - 1-1-2).가속화 상태가 'True_final'일 경우,
    ```
    False : 일반 상태로 복구 ( 10분 단위 입찰 )
    ## 가속화 진행 종료. 'True_final'을 'False'로 변경
    ```

  - 1-2.현재입찰가 < 최대입찰가
  ```
  # 현재 입찰가로 입찰 진행
  ```

    - 1-2-1.가속화 상태가 'True'일 경우,
    ```
    ## 한번 더 순위체크를 위해 가속화 상태를 'True_final'로 변경
    ```
    - 1-2-2.가속화 상태가 'True_final'일 경우,
    ```
    ## 가속화 진행 종료. 'True_final'을 'False'로 변경
    ```

##### 2 ). 현재순위가 목표순위보다 작을때 (목표순위 보다 높을 때 )
순위 차이에 대한 입찰가 계산

  - 2-1). 현재 입찰가가 70원 일 때
  ```
  # 현재 입찰가를 더이상 내릴 수 없음 (70원으로 유지)
  ```
     - 2-1-1. 이때 가속화 상태
     ```
     (‘True’, ‘True_final’)일 경우, 가속화 중지(‘False’)
     ```

  - 2-2). 현재 입찰가가 70원 아니고, 순위 차이가 1 이상일 때
    - 2-2-1). 변경 할 입찰가 <= 70원
    ```
	  ## 현재 입찰가를 70원으로 맞추고 입찰 진행
    ```

    - 2-2-2). 변경 할 입찰가 >= 최대입찰가
    ```
    ## 최대입찰가 = 0원 일 때, 변경 할 입찰가 로 입찰 진행
    ## 최대입찰가 != 0원 일 때, 최대 입찰가로 입찰 진행    
    ```

    - 2-2-3. 변경 할 입찰가 < 최대입찰가
    ```
    ## 변경 할 입찰가로 입찰 진행
    ```

    - 2-2-4. 만약 순위차이가 2 이상
    ```
    ## 가속화 실행
    ```


##### 3.현재순위가 목표순위보다 클 때 (목표순위 보다 낮을 때)
순위 차이에 대한 입찰가 계산

  - 3-1. 현재입찰가 = 최대입찰가
  ```
  # 더이상 입찰가 증가 시킬 수 없으므로, 최대입찰가로 진행
  ```

    - 3-1-1. 가속화 진행 중
    ```
    ## 가속화 상태 ‘False’ 로 변경
    ```

  - 3-2. 현재입찰가 != 최대입찰가 , 순위 차이가 1 이상 일 때
    - 3-2-1. 변경 할 입찰가 >= 최대입찰가
    ```
    ## 최대입찰가 = 0원 일때, 변경 할 입찰가 로 입찰 진행
    ## 최대입찰가 != 0원 일때, 최대입찰가로 입찰 진행    
    ```

    - 3-2-2. 변경 할 입찰가 < 최대입찰가
    ```
	  ## 변경 할 입찰가로 입찰 진행
    ```

    - 3-2-3. 순위 차이가 2 이상 일 경우,
    ```
    # 가속화가 ‘False’ 이면 ‘True’ 로 변경
    ```
